#include <bits/stdc++.h>
#include <string> 
#include <fstream>

using namespace std;

void SelectionSort(vector<pair<string,pair<string,double>>>&lista,int tam){	
	for(int i=0;i<tam;i++){
		for(int j=i+1;j<tam;j++){
			if(lista[j].second.first<lista[i].second.first){
				pair<string,pair<string,double>> aux=lista[i];
				lista[i]=lista[j];
				lista[j]=aux;
			}
		}
	}
}

void heapify(vector<pair<string,pair<string,double>>>lista, int n, int i) 
{ 
    int t = i; 
    int left = 2*i + 1;  
    int right = 2*i + 2;
    if (left<n and lista[left].second.second > lista[t].second.second) t=left;
    if (right<n and lista[right].second.second > lista[t].second.second) t=right;
    if (t!=i){
        swap(lista[i],lista[t]); 
        heapify(lista,n,t); 
    } 
} 

void heapsort(vector<pair<string,pair<string,double>>> &lista, int tam) 
{ 
    for (int i=tam/2-1; i>=0; i--) heapify(lista,tam,i);
    for (int i=tam-1; i>=0; i--){
        swap(lista[0], lista[i]); 
        heapify(lista, i, 0); 
    } 
}

void imprimi(vector<pair<string,pair<string,double>>>lista){
	for(int i=0; i<(int)lista.size(); i++){
		cout<<"Jogo: "<<lista[i].first<<
		" _ Jogador: "<<lista[i].second.first<<
		" _ Nota: "<<lista[i].second.second<<endl;
	}
}

int main ()
{
	vector<pair<string,pair<string,double>>>lista= {{"Street Fighter",{"Ryu",8.7}},
	{"The Last of Us",{"Ellie",6.7}},{"Pokemon",{"Pikachu",8.9}},{"Tomb Raider",{"Lara Croft",5.0}}};
	cout<<"Vetor Original"<<endl;
	imprimi(lista);
	cout<<endl;
	cout<<"Ordenação por nivel/nota"<<endl;
	heapsort(lista, lista.size());
	imprimi(lista);
	cout<<endl;
	cout<<"Ordenação por nome dos jogadores: Alfabetica"<<endl;
	SelectionSort(lista, lista.size());
	imprimi(lista);
}
